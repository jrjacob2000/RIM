USE RIM
go

CREATE TABLE [dbo].[Invoices] (
    [Id] [uniqueidentifier] NOT NULL,
    [Partner_Id] [uniqueidentifier] NOT NULL,
    [InvoiceNumber] [nvarchar](max),
    [Order_Id] [uniqueidentifier] NOT NULL,
    [InvoiceDate] [datetime] NOT NULL,
    [DueDate] [datetime] NOT NULL,
    [OtherCharges] [decimal](18, 2),
    [OrderDiscount] [decimal](18, 2),
    [TaxRate] [decimal](18, 2),
    [CreatedBy] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Invoices] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Partner_Id] ON [dbo].[Invoices]([Partner_Id])
CREATE INDEX [IX_Order_Id] ON [dbo].[Invoices]([Order_Id])
ALTER TABLE [dbo].[Invoices] ADD CONSTRAINT [FK_dbo.Invoices_dbo.Orders_Order_Id] FOREIGN KEY ([Order_Id]) REFERENCES [dbo].[Orders] ([Id])
ALTER TABLE [dbo].[Invoices] ADD CONSTRAINT [FK_dbo.Invoices_dbo.Partners_Partner_Id] FOREIGN KEY ([Partner_Id]) REFERENCES [dbo].[Partners] ([Id])
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201803240931358_createInvoice', N'Web.Migrations.Configuration',  0x1F8B0800000000000400ED3DDB72DCBA91EF5BB5FF30354FBB294723C9EB538E4B4A4A96ECB3AA1CDB8A2567F74D45CD40127366C809C971A44AE5CBF6613F697F61411220D140E346829C192B2FAA1101341A8DEE4603E846FFDFFFFCEFC91F9E56CBC97792E5719A9C4E8F0E0EA71392CCD3459C3C9C4E37C5FD6FDF4EFFF0FB7FFD97930F8BD5D3E4CFBCDEEBB21E6D99E4A7D3C7A258BF9BCDF2F9235945F9C12A9E67699EDE1707F374358B16E9ECF8F0F077B3A3A319A120A614D66472F2759314F18A54FFD07FCFD3644ED6C5265A7E4A176499B3EFB4E4BA823AF91CAD48BE8EE6E474FA5FE4EEA0AE359D9C2DE38862704D96F7D349942469111514BF77DF72725D6469F270BDA61FA2E5CDF39AD07AF7D132270CEF776D75D7211C1E974398B50D39A8F9262FD29527C0A3D78C2633B97927CA4E1B9A51AA7DA0D42D9ECB5157943B9D9E47F9E365F21732AFE1CB3DBE3B5F66656D91BA07A0CDAB092D79D530C0D1C1F1C1E1C1E1ABC9F966596C32729A904D9145CB5793ABCDDD329EFF913CDFA4BF92E434D92C97226A14395A063ED04F5759BA2659F1FC95DC33842F17D3C90CB69BC90D9B66429B7A143F6F62FAFB33ED3BBA5B9266E267C6E6575156C4F3CD32CA720E8732119583E9E453F4F40B491E8AC7D329FD399D7C8C9FC8827F61C0BF2531151BDAA8C836D6BECE56299500DECD0599C7AB68399D5C65F41793C4B7D3C9F53C2AB13FF61ECA4554900638FD7D4365CD1BC8794668D3C5FB670FAA9ECC5AD6B33064411ED2ECD99917EBEA2F800DCBBF83F3DFA0737B997C4FE339719C5A56FB05CC6CA9601292DDF604C308F679B3BA23D9E09CF2255B044339885ABAD88481F3A57824D9F963943D90DC5D113B10EB22CEE77EDADD0CF4267AFA2A0EB827B82EA24FA17C8EBEC70F951463639E4EBE9265559A3FC6EBDA22E3927DCB6A7CCCD2D5D774D9B2435D707B9D6EB2525BDCA458E94D3941853B3A4CC88C0835755494B88CEA90E2E5185ACE0A9211C4493D56755F8072ACC669D569C76F0E9D745A97CE8368950F4F6B6A309345181555A255C208A0E503AD5543E8D44E93E5AD643D7BF1D6BA9DF83D2DC8F09B8D710D8641D6970B524471B9E347B4BA50415D6A94C2467373CDAED6E0BA3FC492534344161C50A02C37B0D47F0D7C5E91A430110D5451C986142B84C3EA60A4F35B166B703E8B63DDE2A52C917D4D71FAEF62332FFA82F9D326AAA68F03B94C8AD7FE4A902A9662704DCE467C9595F69BDF7A369EADECA9C4507D814AABB3CEA8A9842B0BC63350150BDA022957D50556C95BD50A7369A523AC8C9313308789AAA0622FEBBFA1B4938A63B55F807A0B74F0E57B9C40F27916AFEB73F1814DA3EBA23C624E1EA8414617CEEAF4B38FF6FC4A2A06BD4AE3567B76D7C3838F9E5AD4254ABC9FF72995B128F13F966647C17D57B0D0BABD3DD13668D0B692AA3D9B81C96A48A9E0ABDBAD26742705AF43135D05BA287823AEB5226E74A9822B28D72D46B0522FE3152E363EAABD6AF202F4FB87FBFBF22EF13B29E72AC8F9C8159DAFC728278CE803D98F94EB483E6C17818CF2D02ACDC126F413438DCAC065B59B18F29DB69B04D6B55F80F08D72AB784DD9634D419F2D1619C9873FD87A1F2F972376F761559D4C0CDCCBD5639A8C70019C2645341FDEE81BF4A2199C40398BBCD0E60508FEC09E2661CEA4EA39D9B5E54F7F5AD3E1F45459FA0C27AC9EE7BC26146FE5B360054BA986EE9857AED6CF58E688FB88EC3F857527DCC20279B194FD3381ED8D52A02B52DB41D19208C8763EBE086DA31B2E9F5AD155AE9FA4229D7A1AE10ACA5F43E971451559371FB605A93E953D98D4D4A7C627F72C5F7F26C5016F785083FC9851707F4BB35F0F4488AF26CEED5A8557A93B1785F7FAE8EEFEF5DB373F458BD73FFD0779FD667CE58708E1D1F1DB218E6F2DFB9AE3373F05E955CBE7DF7292E1EC2DCEF72DAB26F81B29A5AACB915A25084B97A0C2B33587BAFBAC5D62AAB2375AB51C501749E05D8C2D0D1CDF61FB75E6B8B3F59A4E5EC55A25451CCD3DA9D57E997DE3CDB5ED34C255F539F4729E26F771B6EA6FFC5C45794E257FF19F51FE38FC6914996F32CA90D745B45A8F736C33928B95D057B0A9B9F95BFA319A1769F621295BF586F74B3AFF35DD141F92CA15F25B3157AD7C470041D0399BCF499E7FA4CC4C16E7E226ABE38529554CDB363DCE9751BCC26D0F4985DEF2AAADFD81D7506C104D35DFDDC02FE9439CB8A1CAABEA51AD6B585165D57C512D81B961CA6AEA11AD2A58F1AC6B05B3ECAA190A6FDA556077DFB6EBB778EB748140C66BAA21C9CF846E89CB5DFC555414244BDA1970D11BDB3016AAE91BE598A4EAE9CFD17213BAAB4ED2502981F0D25081DD7D69A8D0A49FBFC7D501B5C3868757A6E09DEAE37B29BBCC49988D2D0E609863773E8E0E701697129D6B521415164E1B34A1C5D89BB3AEFC0669DEE9C0FAFD268F136A438E72933EF2CDF6E817F78C96EC167AA46D138B83B9CAC87DFCF48345DDB4AE50A30C8E7737D2E8AEA3CA056B94A1557D8D34AEB3C55FA8C21D69607567634581550B09C9BE12BA0E24238D10763A166F6ECA0DDDC823859D0E32529D017196E7E93CAEAC03D5BD98F94240DC3F248B893590A5465D0AE1A083A086445C6E982926A7D3DF287431C16E3C1924D832D423052A353848569AF25179F6995313264E0AD53A899379BC8E963604A4868E1BD772069A2EE4920BB22649B9D9B011D6A5EFD68747C5A0E94832B86C143A99097C62661FC5375E37C37A47F976821B4F5477C6D1BAD70B605BBFFD41584787C2089CA323AA4BD7201463ABBC0302176C138D47315879489D6B0B689DFE71D56DBD58091BE488EC8411C2A57BD1137E9B1C05FDDA2DD3AE717257388A051178AB264D2C4B078EEDC3522816E3B1144AE4BD60296D4CAA8B2903463F8CB504BAD07317CABD87070703984F1846235B5118DD3DB8AD8D36DF1ECB357E7F4626505D002DE6B295AD14A7419197B82BE2A06C24633016EFC8B4746218C19F763B2B1EE2CCAE5D904C9EEDE22C83C00C8F05CFF4EEC838DB38030A632C767A02EFC3564E7238B64CB349F5342102DECCD341FD84659D2D681F0D41F749FFC87EE0F659C69DC2AD2C64DCC75962623AABB89EFC840D7554B6C2C8E1C65D6D68D756B80B3E42A99B77CD8B94ED74376FDABAAB23FC1DCB915631B4F311380625E41EAC5CF2D3A0B64935AC5C3D58656B2B9706811119661F572E24C4433BC386780F817540D491FBB265081541A0B7012083AC5AFAA18EC14E5A4AB8748EC77B8CC44D1AA75DDD9CDB3C78DB7957C230DC19CBE2FFAB612EE6833A087799873D02879949E282803600691B5CC6FCAD5D194076BE1E84CB24D76D0D9731DFCE51B80C0E7B0B5C0649B2775C56FBCABBCEBFE4383F088F41B7FBF15749E398B7C060801E3BC65FB5234AE52C1853834FE5B18BBBB2903C612F4A503C99136BCEDC5C641629815F93A2B9D416D21EE5D349EB05D3F802805C4A0AC7C9E0EA3BF2CB82AC7068DCB3C0028819CA188C66C7610151EDB130006C27EAD2BC09D3C781F0F3100B28764BA2234A739F690543876D01C2AEAD6C90EABD040A87EFBCAC20E03B0608207064E406CE00C80A824528A9FC02B61936BE93F4A10960AB332D40593CBC024851F01EC8F120372376CC34F500CB03D28C60992DE2306AE6388F01049EF812284133A202C91F2112EA695F969615B68B7F5E3314590D28EADFC5234F86A6C0014B01ADE7400CC58D0CA185D9D50C9E04EB9CCD04DCA116335042EB62260093168A60F480D3A5A789DE850A1D0AEA44D58736A8EB9423DB75278FF47EA5963C067F206C34B84710204FBB72D989833B003952BB0371F4AFA89BF58BDEBB45AB1850FF96BEDA06F56871A27E5762B56F2C6928849F2CAB23504E96ADBAD200031B7A63E8F41721EC153C44826CFE05D80D9C6D11928D2D930C197C0A065988E457B7B42471E009DD4DB94A0A27228CCB19CAD35E264AE82F7F350341AF7FBBD305BDF075E6B80E4492D2E3A9B4315C5D3A5C5E0AA8B75B470325F0EBCA21044449C3A71FBA5D407417725D873F8E80608F832154B0DC2FB9DE300963603B381321F47749224DD55D616FA2E85E2D5109E37255E27359220C8C4D868140963B110D91F860825389EF4FED54C28EFA7D0EFB7B51493AD3D750890F263895188FDA89849C547B9C55F722113C920E246C3C8CAF393D6DCA4E66D7556279F6E16446ABCCC9BAD844CB3AD09F177C8AAAE0F0BC6DC9BE4CAED7D1BC3CE3FCEDB57FCEFA550D633607D496CF7A9B9E8A348B1E88545ABE63BE201FE32C2F2EA222BA8BCA98C6F3C54AA9869E156B0E6B7897E871B03A9BFC1087372B7FD74D41FE72F1CC583D5E678D3FD231964646355C020E078CED2984F251E028439EB6394F979B55A2BF33D0B72ED7BB78BEA1053904030ADCE1F1D78D4550FC9B3B94FA11631146FDC51D82F004AF0846F8ACC23A994953A4DC7A289C2049A8CC5F8EDC271E0A75663EFCB4CB89EF744D8761B9FA710DB17DFDE5879CDCC62EED38AFFCDAC77F5AB52D875324DC514BD6233A072E032EF0610D80162C7287D97A1F8AE0F43E8956EC542D050A3CD4DD0681D57CF4182148CD0C46094A3C69D666EF5408D716B9C36CB22E8BD09A8F3FA41660DBEA8E3A003D1B70D0009A76C3C87FD51926AFA0C097F3143E113EBBC38209DB4570B0C413BBFAAD3D05BBFAF3B634E7CBD2013573D519D655A6ABBF6F77D5D9372DA53F9D75D755CCFBA1A3C6D2B51E506F05B10AC4187420C786D8743DB436F9B608ABFDEA0E0926E016A1C112EF91B6F1CFC870F5C1D17AB87B242BE032B6A3AC686E9A1DE444DB7257776C200333B072C5027778489665112A52EC0E1BA65C16C1C2123F095425CF73BDACF32A4BEB65FDD143C2C4D77C808C999EF931C0DB27896DFC01FAC92BEAF9E02EB49AE6C3482E928F1798BF6AB1C72A0033F38235001679C8B590871708B4F07D5B2BF23EF13ABFC5ECCAE9F895AC0B93EB5AEEEACAA43C8B0BD84E2E74872BBFEE2B8295CB3CE4B94E0803647885781A9B60B0E4B34020EA4F1EB2C053CB0249E01F7F5099B278AF384A96E81FDE45BE8CED8791B230973A01775AC28303F0C444FF10811EDAFEF1605FEEEBCE77FBC571FDAF11C39ECD817CA8325A4D81C7AE403980F43D7B6C129EC23D19FBF843CA90CEF9C3ED3A4E8CAAE97027676CBE6D13695B57A48AE74BCFC9692294BA4F901E84768FCF4225C12E5F133EA987C21F2700A70E9A070BB636613A2F45A74992A3BFFCE7C80A61A0AD7400D35BCEB4A80013CA7C162931E3225CA6C4129F6D3848AB0877E2A0C873DB815DAD80824EF03414C56B782CAF4ABA44B0D42AA5EE9091C4892268A4B8036C0467B9CCC32053732B02DB4C2DF6381E6D122DCACA7387572AAD3BB2F7525587ABF65BAB343086D18461963A215D1D3019DBCF9EB058423A0518FBBE935CA475D7F6E6A23A3AB91F176960E8350D48F006158D312B9D1EE69598B54D3AB3D567ADD3C3F3E3D52D1A544DCC78475E1003CBFDB9C0D87A583D0073AE81635250B2EDA3D7C10E8AF13C691821A42ADE8E2D3C7111E2D8C28BB6EB2C236738C3EF947C319513996150FD7105F9CA002F88059EF03014418187C506F28E01630D94F842C45084251EEB369A410CACE0688DAE3D60B8E3353CE60DCD0D062610ADD1B5079445D01A23AF6F4A14925CA5E99D7D69FE6FA290580410084DAAA852061A55D4C85934921C125457994EB8994069F29C176475505638B8FEEBF29CD2A7DC96F00A9FA224BE277951E72A9D1E1F1E1D4F2767CB38CAEBA03116ECF44E7E6BCA29FAE9E87519FD4416AB99DCDC3F86AA8492E70B70D9A3667835040F8D91557B93C47FDD90B8B225EFE392F97CB3F58AE14635CCE47B54EAE6ECDF56D1D3BF8B009D1221B2CB821AD482CCE355B42C679FFEAAD2D84E8FDE4E27A5B8D1622C1FB8197C7D8FC080D3DF455C9A28BE09BBDBD3F14E54744EFFABC9BAB60F7C51DB7E0118623462A371377B416BF1524B0752797AEF325990A7D3E9DF2B18EF2697FF7DDB827935A96E77DF4D0E27FFF0C606CDADDB8B05DAABE61EA3E340428C2D881669E2847AC281E101FE7AD379065A8FE3613A69C20886013F9A22C1B219EC831A01013F506C4D1276997FAB7A7E37B9A1B3500A9590DCF6F8CD61373C8288068C12EA2B676D8C9045A7ED96D27692EF9E3AC4635E7B2811A75E7A68110F29A9239402AC6DE157CB71F51CE6D0B63FDA6E278C0AD1ABB98F2668C0F4C2A68D54AA71A942263C61C0F8A48104F14A8E57EA4F3B0EAB8F2A1D4DFCAED0FCB7FB207A4E7B43371B5A8C420AA03B91F8A3EE5200A38EFA495390D135714735ACBBD81F17106ED443E00438BDB4D5D8D286E506DE07914302867A9AC352A8D0404A5E8C1F1A761DD991E5773C864693A9ED032F073B5A542E7F03C094EFA9038064DE8A0120B170A1109B0C1E32B44F1B16430CCE5E30FEC077233BB42312E2817A9D8D7030FBA29291589D7F7266A05BBBDDBA250191433D47E67428E9A2899B00A21E1B84D1AEEBB4213963484C7B302E1C761F1DBF0D62CCD8F9B01C74F9ABFAFCCA7604FF53689AB7A984F488FEA3CBA468F396A955F1E81AFB1CF22E7C494E45BF6E0AC5BEE7F4F35174C0A66EDA031BE7693706EEEC95B4A1A6B4495A9CED732150A5BBF284613F21763830E827D41622E06D051EEBD39D846A744F775848388F7EA57619AC1CC6D31D35246EA7C7016313B1E3AB8678CB2DAE434804CD182AA9A273E58DFF33A1E66069F35C454541B2A445AFD344ECCEDA2444F484D8E50B213DDEE03A7106CBFB17D844B144C8202DAE4C1130CE46909D3925CC022F9D601481616F93EF9D594B1B6AD3C7B4F5B5577BEFD4616CCE6E1E780E722E8B87E284F3E0E0E1013BE91322C7E0040419104B1080130A5E40FC60FC4D3080217D7FD0A89BE08043CE391A63131C70678C75CB8390D3477587C2B2C2C97920415E7BF60526B33F52868826D45401F1EF10DC6F1470B69CEF8CAC2C693D405EAAE5686097E46CE0C9254D667A64882EDDE91F241B20EBBD3AFDFCFE5713B3D14E5D9B035998B7F6A33B0F700720114EF36D90B93724AB093EFDA87B93A62BE323B8A3CEBEFE29F66E13B79B3AC0676E46D60257862762C7E404434EEAF09C009C931058AC60DF7941EF83B5ABCCE0967FBBEF4C1E1E1CECB49E709FB0ED280B7DCA83F19804CFA60B9221B384BC2253F06FFEFC60373F43F180F649EA61A6DF6DE20DCF808EB34AD8F2AE87DD2E40CF27C842A064BFB70CB6479A776FD360CA35DF4DF81DD8006380FD977EFD1BC9BB2BFFB7A6C7C9BB4DDCEEAA019F091A5D11989E201F8523788EFBC1D702FECE8108A4F9B6DFFA5F9F7475E7343F9FEE9134FFF8933EA2E6F799F6AD6B7ED16FF1167991599C34D1C511CC1C28F0E002C57F0F01DA160EC2179697D8C33387FD717157E7C291384472B7BBC55EAC152655F6CE13E75429EBC62BB58F8D8E5958E920DC627F757C5086D13DF1EBE1B9BA0D8EC15EA71D976398EF8D866358E98FC831BAE77C779C6390FC0DE332CCB696A32DB38BF38A3422B77C80AF4136117FD2CB8D0AB7B007269B3B39F161C3497B8BDEDC7882F2FA1DC8D3E9E22EA56C50DFC6832ACADBBC488FFC0E15E98C17E1FD54A5B19A745AE9A3B199952E9A12AC07566887CF76730A74F61D83CD72D43B41E6FB7B1C3E2FD5F6C28F296C7D3557584A3F4D09D6072B7486CF2E43749DB062434F550D87EEF87E4BED8997A09DF0648E76F8E0F005E90594E37D817324C71EF57D197B711013B04151650514633D9DE5EBCFA4A85725D7CEDA9542DB615B45DF699BCEC8D6B1B2F429FD2A35CCDDFA8D95D9DDC6C1B23AE66ED906C3A76F66C119FB6675CC7D3353D5D6B7E87CABF60A4AB1FEC043FD725FC23288AA4B76243711EAA95A133BB7C34EEE9A81355F94155D73732BB7E4DF658762381C87A12A9E4BC848CDDE4D00697919AE306E3F1A862B2D1B20637AB861C2954C3F54BD2B4F57A4B737B7D01B453F6883D74A9041630BB79A63BBFFB0B57E17162136392CF41DC616661F7A16E8C68E9F41E3A7D0E258F937DB30ED4AAF0B632317E8185FDBEED97BEB68D4784352FE061BB2693E8DF7C9416654B21C418ED9904384E6AC69A496ECCE1D10DFD2FCC21B4064CC862BC2DE6C2C6D6CEB1453FC5BB0A11958D77821168475071EA27AAF838DD272FB63B8FF11B10605A6216BB64678CED4FE44D05C5D208470B9E4309F410A2351CA1C490276509ADC7CE189C2B73C76A268B3CC0D4914B0B5D3A49A0B4F14B6E3B6D344976978489284141D25DB4E537632ABB7AEEC03FD57C9AA7332FBBA49CA9707EAFF2E481E3FB4204E28CCA43E2D6D81F23A97C97DCA8F95258C78152982EA135DD81651119D65457C1F95566D5A3E3A506DB2AB40EEF2E98B3BB2B84CBE6C8AF5A6A04326ABBB25D8E395C7D3A6FE4F660ACE275FAAF75CF31043A068C6E5630D5F92F79B78B968F0FE88C4016B4094E7DE2CC4BF9CCBA20CF57F786E207DAE5ED47301C4C8D71CD7DF90D57A4981E55F92EBE83BE9821B65BF5FC843347F6EA3BE7540EC1301C97E7211470F59B4CA198CB63DFD97F2F062F5F4FBFF078EA35D3EA31E0100 , N'6.2.0-61023')

